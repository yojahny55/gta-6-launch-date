name = "gta6-tracker"
main = "src/index.ts"
compatibility_date = "2025-11-09"
compatibility_flags = ["nodejs_compat"]

# D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "gta6-predictions"
database_id = "150217ee-5408-406e-98be-37b15a8e5990"

# Production environment configuration
[env.production]
name = "gta6-tracker"
vars = { ENVIRONMENT = "production" }

[[env.production.d1_databases]]
binding = "DB"
database_name = "gta6-predictions"
database_id = "150217ee-5408-406e-98be-37b15a8e5990"

# Dev environment configuration
[env.dev]
name = "gta6-tracker-dev"
vars = { ENVIRONMENT = "dev" }

[[env.dev.d1_databases]]
binding = "DB"
database_name = "gta6-predictions"
database_id = "150217ee-5408-406e-98be-37b15a8e5990"

# Preview environment configuration (for pull requests)
[env.preview]
name = "gta6-tracker-preview"
vars = { ENVIRONMENT = "preview" }

[[env.preview.d1_databases]]
binding = "DB"
database_name = "gta6-predictions"
database_id = "150217ee-5408-406e-98be-37b15a8e5990"
